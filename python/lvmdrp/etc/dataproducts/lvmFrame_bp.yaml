name: lvmFrame
short: the extracted fiber science spectra
description: |
  The lvmFrame files are the extracted fiber spectra for each camera for the science exposures.
location: $LVM_SPECTRO_REDUX/[DRPVER]/[TILEID]/[OBSERVATORY]/[MJD]/
created_by: module.py
used_by: module.py
naming_convention: |
  lvmFrame-[CAMERA]-[EXPNUM].fits.gz, where [CAMERA] is one of the nine cameras on the instrument, b1, r1, z1,
  or b2, r2, z2, or b3, r3, or z3 for the blue, red, nir cameras on each LVM spectrograph, and
  [EXPNUM] is the (zero-padded) 8-digit exposure number.
hdu0:
  name: PRIMARY
  description: primary header metadata
  is_image: true
  header:
  - key: DPOS
    comment: LVM dither position
  - key: DRA
    comment: LVM dither right ascension
  - key: DDEC
    comment: LVM dither declination
  - key: VERSDRP2
    comment: LVM DRP version (2d processing)
  - key: VERSCORE
    comment: lvmcore version
  - key: VERSPY
    comment: python version
  - key: SLITFILE
    comment: Associated slitmap name
  - key: AIRMSBEG
    comment: airmass at beginning of exposure
  - key: AIRMSMID
    comment: airmass at midpoint of exposure
  - key: AIRMSEND
    comment: airmass at end of exposure
  - key: LSTBEG
    comment: LST (hours) at beginning of exposure
  - key: LSTMID
    comment: LST (hours) at midpoint of exposure
  - key: LSTEND
    comment: LST (hours) at end of exposure
  - key: HRANGBEG
    comment: hour angle (hours) at beginning of exposure
  - key: HRANGMID
    comment: hour angle (hours) at midpoint of exposure
  - key: HRANGEND
    comment: hour angle (hours) at end of exposure
  - key: DRP2QUAL
    comment: DRP-2d quality bitmask
  - key: MASKNAME
    comment: Name of the bits in sdssMaskbits.par used by MASK extension of this file
  - key: SCATVAL0
    comment: Median scattered light around all edges
  - key: SCATVAL1
    comment: Scattered light in quadrant 1
  - key: SCATVAL2
    comment: Scattered light in quadrant 2
  - key: SCATVAL3
    comment: Scattered light in quadrant 3
  - key: SCATVAL4
    comment: Scattered light in quadrant 4
  - key: SCATSIG
    comment: Deviation in SCATVAL between quadrants
hdu1:
  name: FLUX
  description: Flux in flat fielded electrons
  is_image: true
  shape: CCDROW x NFIBER
hdu2:
  name: IVAR
  description: Inverse variance (1/sigma2) for the above
  is_image: true
  shape: CCDROW x NFIBER
hdu3:
  name: MASK
  description: the quality bitmask for each fiber pixel
  is_image: true
  shape: CCDROW x NFIBER
hdu4:
  name: WSET
  description: wavelength solution traceset in log-10 Angstroms (vacuum)
  is_image: false
  shape: BINARY FITS TABLE
  columns:
    FUNC:
      name: FUNC
      type: char[8]
      unit: ''
      description: ''
    XMIN:
      name: XMIN
      type: float64
      unit: ''
      description: ''
    XMAX:
      name: XMAX
      type: float64
      unit: ''
      description: ''
    COEFF:
      name: COEFF
      type: float64
      unit: ''
      description: ''
hdu5:
  name: SLITMAP
  description: slitmap table describing fiber positions for this exposure
  is_image: false
  shape: BINARY FITS TABLE
  columns:
    pass
hdu6:
  name: XPOS
  description: x position on the CCD
  is_image: true
  shape: CCDROW x NFIBER
hdu7:
  name: SUPERFLAT
  description: superflat vector from quartz lamps
  is_image: true
  shape: CCDROW x NFIBER
hdu8:
  name: AIRSET
  description: observed wavelength traceset in log-10 Angstroms (air)
  is_image: false
  shape: BINARY FITS TABLE
  columns:
    FUNC:
      name: FUNC
      type: char[8]
      unit: ''
      description: ''
    XMIN:
      name: XMIN
      type: float64
      unit: ''
      description: ''
    XMAX:
      name: XMAX
      type: float64
      unit: ''
      description: ''
    COEFF:
      name: COEFF
      type: float64
      unit: ''
      description: ''